#!/usr/bin/env ruby

require 'optparse'
require 'pp'
require 'ostruct'
require_relative '../lib/cddb_parser'


def go!
  options = CddbParser::GetOpts.parse(ARGV)
  pp options
  cddb = CddbParser::ParseCddbFile.new(options.files)
  if options.check
    cddb.check_files
  elsif options.list
    puts "loption: #{options.list}"
    cddb.list_files(options.list)
  elsif options.store
    cddb.store_files(options.store, options.user, options.password)
  end
end

go!

#main do # Add args you want: |like,so|
#  # your program code here
#  # You can access CLI options via
#  # the options Hash
#end
#
## supplemental methods here
#
## Declare command-line interface here
#
#description 'Parse out CDDB disc info files and list or write to database'
##
## Accept flags via:
#on("--flag VAL","Some flag")
## options[flag] will contain VAL
##
## Specify switches via:
## on("--[no-]switch","Some switch")
##
## Or, just call OptionParser methods on opts
##
## Require an argument
## arg :some_arg 
##
## # Make an argument optional
## arg :optional_arg, :optional
#
#version CddbParser::VERSION
#
#go!
